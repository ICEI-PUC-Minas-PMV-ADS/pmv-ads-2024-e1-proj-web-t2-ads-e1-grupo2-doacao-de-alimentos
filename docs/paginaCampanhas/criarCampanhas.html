<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Rodrigo Abreu Amorim">
    <meta name="description" content="Crie aqui as suas campanhas">
    <meta name="keywords" content="campanhas, doação, ONGs, projeto social">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,600;1,700&family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Raleway:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="vendor/aos/aos.css" rel="stylesheet">
    <link href="vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!--Icon da Página-->
    <link rel="shortcut icon" href="img/android-chrome-192x192.png" type="image/x-icon">
    <!--Estilo Customizado-->
    <link rel="stylesheet" href="campanha.css">
    <title>Criar Campanhas</title>

</head>

<body>
    <!--Start header-->
    <header id="header" class="header d-flex align-items-center">

        <div class="container-fluid container-xl d-flex align-items-center justify-content-between">
            <a href="../home/index.html" class="logo d-flex align-items-center">
                <img src="../home/assets/img/image-Photoroom.png-Photoroom.png" alt="logo" class="logo" width="50px"
                    height="150px">
                <h1>Doação de Alimentos<span>.</span></h1>
            </a>
            <nav id="navbar" class="navbar">
                <ul>
                    <li><a href="../home/index.html">Home</a></li>
                    <li><a href="../home/index.html#about">Sobre nós</a></li>
                    <li><a href="campanha.html">Campanhas</a></li>
                    <li><a href="../home/index.html#portfolio">Doações</a></li>
                    <li><a href="../home/index.html#team">Nosso Time</a></li>
                    <li><a href="../pontos-de-doacao/pontos/index.html">Pontos de Doação</a></li>
                    <li><a href="../home/index.html#contact">Contato</a></li>
                    <li><a href="../login/login.html">Login</a></li>
                </ul>
            </nav><!-- .navbar -->

            <i class="mobile-nav-toggle mobile-nav-show bi bi-list"></i>
            <i class="mobile-nav-toggle mobile-nav-hide d-none bi bi-x"></i>

        </div>
    </header><!-- End Header -->

    <!-- Start Section Form-->
    <section>
        <div class="container">
            <form id="formCampanha">
                <div class="row text-center">
                    <label for="formFile" class="form-label">
                        <h3>Selecione uma imagem para sua campanha</h3>
                    </label>
                    <input class="form-control w-50 m-auto" type="file" id="formFile" accept="image/*" required>

                    <label for="nomeCampanha" class="form-label mt-5">Nome da Campanha</label>
                    <input type="text" id="nomeCampanha" class="form-control w-50 m-auto"
                        placeholder="Ex: Campanha de Natal" required>

                    <label for="emailCampanha" class="form-label mt-5">E-mail para contato</label>
                    <input type="email" id="emailCampanha" class="form-control w-50 m-auto"
                        placeholder="Digite seu melhor email para contato" required>

                    <label for="telefone" class="form-label mt-5">Número para Contato</label>
                    <input type="tel" id="telefone" class="form-control w-50 m-auto"
                        onkeypress="return event.charCode >= 48 && event.charCode <= 57" maxlength="11"
                        placeholder="Digite seu número com seu DDD" required>

                    <label for="descricaoCampanha" class="mt-5 form-label">Descreva aqui sua campanha</label>
                    <textarea id="descricaoCampanha" class="form-control w-50 m-auto"
                        placeholder="Escreva uma breve descrição da sua campanha (Max: 452 caracteres)" maxlength="452"></textarea required>
                    
                    <label for="dataInicioCampanha" class="form-label mt-5">Data de Início da Campanha</label>
                    <input type="date" id="dataInicioCampanha" class="form-control w-50 m-auto">

                    <label for="dataFimCampanha" class="form-label mt-5">Data do Fim da Campanha</label>
                    <input type="date" id="dataFimCampanha" class="form-control w-50 m-auto">

                    <button type="submit" class="botao mt-5 w-75 m-auto" id="botaoCampanha">Criar Campanha</button>

                </div>

            </form>
        </div>


    </section>
    <!-- End Section Form-->
    <!-- ======= Footer ======= -->
    <footer id="footer" class="footer">

        <div class="container">
            <div class="row gy-4">
                <div class="col-lg-5 col-md-12 footer-info">
                    <a href="index.html" class="logo d-flex align-items-center">
                        <span>Doação de Alimentos</span>
                    </a>
                    <p>Cras fermentum odio eu feugiat lide par naso tierra. Justo eget nada terra videa magna derita
                        valies darta
                        donna mare fermentum iaculis eu non diam phasellus.</p>
                    <div class="social-links d-flex mt-4">
                        <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
                        <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
                    </div>
                </div>

                <div class="col-lg-2 col-6 footer-links">
                    <h4>Useful Links</h4>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">About us</a></li>
                        <li><a href="#">Services</a></li>
                        <li><a href="#">Terms of service</a></li>
                        <li><a href="#">Privacy policy</a></li>
                    </ul>
                </div>

                <div class="col-lg-2 col-6 footer-links">
                    <h4>Nossas ações</h4>
                    <ul>
                        <li><a href="#">Web Design</a></li>
                        <li><a href="#">Web Development</a></li>
                        <li><a href="#">Product Management</a></li>
                        <li><a href="#">Marketing</a></li>
                        <li><a href="#">Graphic Design</a></li>
                    </ul>
                </div>

                <div class="col-lg-3 col-md-12 footer-contact text-center text-md-start">
                    <h4>Contact Us</h4>
                    <p>
                        A108 Adam Street <br>
                        New York, NY 535022<br>
                        United States <br><br>
                        <strong>Phone:</strong> +1 5589 55488 55<br>
                        <strong>Email:</strong> info@example.com<br>
                    </p>

                </div>

            </div>
        </div>

        <div class="container mt-4">
            <div class="copyright">
                All Rights Reserved
            </div>

        </div>

    </footer><!-- End Footer -->







    
    <script src="campanha.js"></script>
    <!-- Vendor JS Files -->
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/aos/aos.js"></script>
    <script src="vendor/glightbox/js/glightbox.min.js"></script>
    <script src="vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="vendor/swiper/swiper-bundle.min.js"></script>
    <script src="vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="vendor/php-email-form/validate.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const formCampanha = document.getElementById('formCampanha');

            formCampanha.addEventListener('submit', event => {
                event.preventDefault();

                const nomeCampanha = document.getElementById('nomeCampanha').value;
                const emailCampanha = document.getElementById('emailCampanha').value;
                const telCampanha = document.getElementById('telefone').value;
                const descricaoCampanha = document.getElementById('descricaoCampanha').value;
                const dataInicioCampanha = document.getElementById('dataInicioCampanha').value;
                const dataFimCampanha = document.getElementById('dataFimCampanha').value;
                const imagemCampanha = document.getElementById('formFile').files[0];

                const [ano, mes, dia] = dataInicioCampanha.split('-');
                const [ano2, mes2, dia2] = dataFimCampanha.split('-');
                const dataInicioFormatada = `${dia}/${mes}/${ano}`;
                const dataFimFormatada = `${dia2}/${mes2}/${ano2}`;

                if (imagemCampanha) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        const imgBase64 = e.target.result;

                        // Recupera o array de cards do armazenamento local, ou inicializa um novo array se não existir
                        const cards = JSON.parse(localStorage.getItem('cards')) || [];

                        // Adiciona o novo card ao array
                        cards.push({
                            nome: nomeCampanha,
                            email: emailCampanha,
                            telefone: telCampanha,
                            descricao: descricaoCampanha,
                            dataInicio: dataInicioFormatada,
                            dataFim: dataFimFormatada,
                            imagem: imgBase64
                        });

                        // Salva o array atualizado no armazenamento local
                        localStorage.setItem('cards', JSON.stringify(cards));

                        // Redireciona para a página de exibição de campanhas
                        window.location.href = 'campanha.html';
                    };

                    reader.readAsDataURL(imagemCampanha);
                }
            });
        });
    </script>
    </body>
    </html>
    